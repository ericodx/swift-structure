repos:
  # Conventional Commits
  - repo: https://github.com/compilerla/conventional-pre-commit
    rev: v4.3.0
    hooks:
      - id: conventional-pre-commit
        name: ✓ Check conventional commits
        description: >
          Enforces Conventional Commits specification to keep commit messages consistent and machine-readable.
        always_run: true
        stages: [commit-msg]
        args:
          [
            build,
            chore,
            ci,
            docs,
            feat,
            fix,
            perf,
            refactor,
            revert,
            style,
            test,
            "!",
            "(\\w+)",
          ]

  # Core pre-commit hooks
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: check-yaml
        name: ✓ Validate YAML
        description: Validate YAML files and fail on syntax errors.

      - id: check-json
        name: ✓ Validate JSON
        description: Validate JSON files and fail on syntax errors.

      - id: end-of-file-fixer
        name: ✓ Ensure newline at EOF
        description: Ensure files end with a single newline character.

      - id: trailing-whitespace
        name: ✓ Trim trailing whitespace
        description: Remove trailing whitespace from all files automatically.

      - id: check-merge-conflict
        name: ✓ Detect merge conflicts
        description: Detect unresolved merge conflict markers before commit.

      - id: detect-private-key
        name: ✓ Detect private keys
        description: Prevent committing private keys or sensitive credentials.

      - id: check-case-conflict
        name: ✓ Check case conflicts
        description: Detect files that would conflict on case-insensitive filesystems.

      - id: mixed-line-ending
        name: ✓ Check line endings
        description: Enforce consistent LF line endings across files.
        args: [--fix=lf]

      - id: check-added-large-files
        name: ✓ Check large files
        description: Prevent committing files larger than the configured size.
        args: ["--maxkb=1000"]

      - id: no-commit-to-branch
        name: ✓ Prevent commit to main
        description: Block direct commits to the protected main branch.
        args: [--branch, main]

  # Codespell
  - repo: https://github.com/codespell-project/codespell
    rev: v2.4.1
    hooks:
      - id: codespell
        name: ✓ Codespell
        description: Detect and fix common spelling mistakes in code and docs.
        args:
          - "--ignore-words=.codespellignore"
        files: \.(swift|md|ya?ml|json)$

  # SwiftLint
  - repo: https://github.com/realm/SwiftLint
    rev: 0.63.1
    hooks:
      - id: swiftlint
        name: ✓ SwiftLint
        description: Enforce Swift style and best practices using SwiftLint.
        args: ["lint", "--strict", "--quiet"]
        types: [swift]
        pass_filenames: false

  # Swift Format
  - repo: https://github.com/apple/swift-format
    rev: 602.0.0
    hooks:
      - id: swift-format
        name: ✓ Swift Format
        description: Automatically format Swift source files using swift-format.
        args: ["format", "--in-place", "--parallel"]
        types: [swift]
